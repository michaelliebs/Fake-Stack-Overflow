{"ast":null,"code":"var _jsxFileName = \"/Users/michaelliebs/pa04-bananaboys/client/src/components/UserProfile.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction UserProfile({\n  user = null,\n  onEditQuestion\n}) {\n  _s();\n  const [profile, setProfile] = useState(null);\n  const [errors, setErrors] = useState('');\n  const formatDate = dateString => {\n    const options = {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n    };\n    return new Date(dateString).toLocaleDateString(undefined, options);\n  };\n  useEffect(() => {\n    if (user === null) {\n      axios.get('http://localhost:8000/users/profile', {\n        withCredentials: true\n      }).then(response => {\n        setProfile(response.data);\n      }).catch(error => {\n        console.error('Error fetching user profile:', error);\n        setErrors('Failed to load profile');\n      });\n    } else {\n      setProfile(user);\n    }\n  }, [user]);\n\n  // Handling loading state\n  if (!profile && !errors) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 12\n    }, this);\n  }\n\n  // Handling error state\n  if (errors) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: [\"Error: \", errors]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 12\n    }, this);\n  }\n\n  // Main content when data is loaded and there are no errors\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"user-profile\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"profile-title\",\n      children: \"User Profile\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"profile-detail\",\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Username:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 37\n      }, this), \" \", profile === null || profile === void 0 ? void 0 : profile.username]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"profile-detail\",\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Member since:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 37\n      }, this), \" \", formatDate(profile === null || profile === void 0 ? void 0 : profile.memberSince)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"profile-detail\",\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Reputation:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 37\n      }, this), \" \", profile === null || profile === void 0 ? void 0 : profile.reputation]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"questions-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"My Questions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), profile.questions && profile.questions.length > 0 ? profile.questions.map(question => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"question-item\",\n        onClick: () => onEditQuestion(question),\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: `/questions/${question.id}`,\n          className: \"question-link\",\n          children: question.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 15\n        }, this)\n      }, question.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No questions posted yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"answers-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"My Answers\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), profile.answers && profile.answers.length > 0 ? profile.answers.map(answer => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"answer-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          href: `/answers/${answer._id}`,\n          className: \"answer-link\",\n          children: answer.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"answer-date\",\n          children: [\"Posted on: \", formatDate(answer.ans_date_time)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 15\n        }, this)]\n      }, answer._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No answers posted yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n_s(UserProfile, \"Z6QcBhOiAcmbaRcFBCQLpOlFib0=\");\n_c = UserProfile;\nexport default UserProfile;\nvar _c;\n$RefreshReg$(_c, \"UserProfile\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","UserProfile","user","onEditQuestion","_s","profile","setProfile","errors","setErrors","formatDate","dateString","options","year","month","day","Date","toLocaleDateString","undefined","get","withCredentials","then","response","data","catch","error","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","username","memberSince","reputation","questions","length","map","question","onClick","href","id","title","answers","answer","_id","text","ans_date_time","_c","$RefreshReg$"],"sources":["/Users/michaelliebs/pa04-bananaboys/client/src/components/UserProfile.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nfunction UserProfile({ user = null, onEditQuestion }) {\n  const [profile, setProfile] = useState(null);\n  const [errors, setErrors] = useState('');\n\n  const formatDate = (dateString) => {\n    const options = { year: 'numeric', month: 'long', day: 'numeric' };\n    return new Date(dateString).toLocaleDateString(undefined, options);\n  };\n\n  useEffect(() => {\n    if (user === null) {\n      axios.get('http://localhost:8000/users/profile', { withCredentials: true })\n        .then(response => {\n          setProfile(response.data);\n        })\n        .catch(error => {\n          console.error('Error fetching user profile:', error);\n          setErrors('Failed to load profile');\n        });\n    }\n    else {\n      setProfile(user);\n    }\n  }, [user]);\n\n  // Handling loading state\n  if (!profile && !errors) {\n    return <div className=\"loading\">Loading...</div>;\n  }\n\n  // Handling error state\n  if (errors) {\n    return <div className=\"error-message\">Error: {errors}</div>;\n  }\n\n  // Main content when data is loaded and there are no errors\n  return (\n    <div className=\"user-profile\">\n      <h1 className=\"profile-title\">User Profile</h1>\n      <p className=\"profile-detail\"><strong>Username:</strong> {profile?.username}</p>\n      <p className=\"profile-detail\"><strong>Member since:</strong> {formatDate(profile?.memberSince)}</p>\n      <p className=\"profile-detail\"><strong>Reputation:</strong> {profile?.reputation}</p>\n      <div className=\"questions-section\">\n        <h2>My Questions</h2>\n        {profile.questions && profile.questions.length > 0 ? (\n          profile.questions.map(question => (\n            <div key={question.id} className=\"question-item\" onClick={() => onEditQuestion(question)}>\n              <a href={`/questions/${question.id}`} className=\"question-link\">{question.title}</a>\n            </div>\n          ))\n        ) : <p>No questions posted yet.</p>}\n      </div>\n      <div className=\"answers-section\">\n        <h2>My Answers</h2>\n        {profile.answers && profile.answers.length > 0 ? (\n          profile.answers.map(answer => (\n            <div key={answer._id} className=\"answer-item\">\n              <a href={`/answers/${answer._id}`} className=\"answer-link\">{answer.text}</a>\n              <p className=\"answer-date\">Posted on: {formatDate(answer.ans_date_time)}</p>\n            </div>\n          ))\n        ) : <p>No answers posted yet.</p>}\n      </div>\n    </div>\n  );\n}\n\nexport default UserProfile;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}