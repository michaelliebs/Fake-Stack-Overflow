{"ast":null,"code":"var _jsxFileName = \"/Users/michaelliebs/Fake-Stack-Overflow/client/src/components/EditQuestion.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction EditQuestion({\n  question,\n  onClose\n}) {\n  _s();\n  const [title, setTitle] = useState(question.title);\n  const [summary, setSummary] = useState(question.summary);\n  const [text, setText] = useState(question.text);\n  const [tags, setTags] = useState('');\n  useEffect(() => {\n    const fetchTags = async () => {\n      try {\n        const response = await axios.get('http://localhost:8000/tags');\n        const tagsFromServer = response.data;\n        const tagNames = question.tags.map(tagId => {\n          var _tagsFromServer$find;\n          return (_tagsFromServer$find = tagsFromServer.find(tag => tag._id === tagId)) === null || _tagsFromServer$find === void 0 ? void 0 : _tagsFromServer$find.name;\n        }).filter(tagName => tagName) // Filter out any undefined entries\n        .join(' ');\n        setTags(tagNames);\n      } catch (error) {\n        console.error('Failed to fetch tags:', error);\n      }\n    };\n    fetchTags();\n  }, [question.tags]);\n  const handleUpdate = async () => {\n    console.log(question.tags);\n    const tagArray = tags.split(' ').map(tag => tag.trim()).filter(tag => tag !== '');\n    const updatedQuestion = {\n      title,\n      summary,\n      text,\n      tags: tagArray\n    };\n    try {\n      await axios.put(`http://localhost:8000/questions/${question._id}`, updatedQuestion);\n      alert('Question updated successfully.');\n      onClose(); // Close the edit modal or component\n    } catch (error) {\n      console.error('Failed to update question:', error);\n      alert('Error updating question.');\n    }\n  };\n  const handleDelete = async () => {\n    try {\n      await axios.delete(`http://localhost:8000/questions/${question._id}`);\n      alert('Question deleted successfully.');\n      onClose(); // Close the edit modal or component\n    } catch (error) {\n      console.error('Failed to delete question:', error);\n      alert('Error deleting question.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        marginBottom: '20px'\n      },\n      children: \"Edit Question\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      style: {\n        marginBottom: '10px',\n        padding: '5px',\n        width: '300px'\n      },\n      value: title,\n      onChange: e => setTitle(e.target.value),\n      placeholder: \"Title\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      style: {\n        marginBottom: '10px',\n        padding: '5px',\n        width: '300px',\n        height: '100px'\n      },\n      value: summary,\n      onChange: e => setSummary(e.target.value),\n      placeholder: \"Summary\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      style: {\n        marginBottom: '10px',\n        padding: '5px',\n        width: '300px',\n        height: '200px'\n      },\n      value: text,\n      onChange: e => setText(e.target.value),\n      placeholder: \"Text\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      style: {\n        marginBottom: '10px',\n        padding: '5px',\n        width: '300px'\n      },\n      value: tags,\n      onChange: e => setTags(e.target.value),\n      placeholder: \"Tags (space-separated)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          marginRight: '10px',\n          padding: '5px 10px',\n          backgroundColor: 'green',\n          color: 'white'\n        },\n        onClick: handleUpdate,\n        children: \"Save Changes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          marginRight: '10px',\n          padding: '5px 10px',\n          backgroundColor: 'red',\n          color: 'white'\n        },\n        onClick: handleDelete,\n        children: \"Delete Question\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          padding: '5px 10px',\n          backgroundColor: 'gray',\n          color: 'white'\n        },\n        onClick: onClose,\n        children: \"Close\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n_s(EditQuestion, \"IgSEvljw3kHISbk/ud5L17VF5To=\");\n_c = EditQuestion;\nexport default EditQuestion;\nvar _c;\n$RefreshReg$(_c, \"EditQuestion\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","EditQuestion","question","onClose","_s","title","setTitle","summary","setSummary","text","setText","tags","setTags","fetchTags","response","get","tagsFromServer","data","tagNames","map","tagId","_tagsFromServer$find","find","tag","_id","name","filter","tagName","join","error","console","handleUpdate","log","tagArray","split","trim","updatedQuestion","put","alert","handleDelete","delete","style","display","flexDirection","alignItems","children","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","padding","width","value","onChange","e","target","placeholder","height","marginRight","backgroundColor","color","onClick","_c","$RefreshReg$"],"sources":["/Users/michaelliebs/Fake-Stack-Overflow/client/src/components/EditQuestion.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nfunction EditQuestion({ question, onClose }) {\n  const [title, setTitle] = useState(question.title);\n  const [summary, setSummary] = useState(question.summary);\n  const [text, setText] = useState(question.text);\n  const [tags, setTags] = useState('');\n\n  useEffect(() => {\n    const fetchTags = async () => {\n      try {\n        const response = await axios.get('http://localhost:8000/tags');\n        const tagsFromServer = response.data;\n        const tagNames = question.tags\n          .map(tagId => tagsFromServer.find(tag => tag._id === tagId)?.name)\n          .filter(tagName => tagName) // Filter out any undefined entries\n          .join(' ');\n        setTags(tagNames);\n      } catch (error) {\n        console.error('Failed to fetch tags:', error);\n      }\n    };\n    fetchTags();\n  }, [question.tags]);\n\n  const handleUpdate = async () => {\n    console.log(question.tags)\n    const tagArray = tags.split(' ').map(tag => tag.trim()).filter(tag => tag !== '');\n    const updatedQuestion = {\n      title,\n      summary,\n      text,\n      tags: tagArray \n    };\n    try {\n      await axios.put(`http://localhost:8000/questions/${question._id}`, updatedQuestion);\n      alert('Question updated successfully.');\n      onClose(); // Close the edit modal or component\n    } catch (error) {\n      console.error('Failed to update question:', error);\n      alert('Error updating question.');\n    }\n  };\n\n  const handleDelete = async () => {\n    try {\n      await axios.delete(`http://localhost:8000/questions/${question._id}`);\n      alert('Question deleted successfully.');\n      onClose(); // Close the edit modal or component\n    } catch (error) {\n      console.error('Failed to delete question:', error);\n      alert('Error deleting question.');\n    }\n  };\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\n        <h2 style={{ marginBottom: '20px' }}>Edit Question</h2>\n        <input\n            style={{ marginBottom: '10px', padding: '5px', width: '300px' }}\n            value={title}\n            onChange={e => setTitle(e.target.value)}\n            placeholder=\"Title\"\n        />\n        <textarea\n            style={{ marginBottom: '10px', padding: '5px', width: '300px', height: '100px' }}\n            value={summary}\n            onChange={e => setSummary(e.target.value)}\n            placeholder=\"Summary\"\n        />\n        <textarea\n            style={{ marginBottom: '10px', padding: '5px', width: '300px', height: '200px' }}\n            value={text}\n            onChange={e => setText(e.target.value)}\n            placeholder=\"Text\"\n        />\n        <input\n            style={{ marginBottom: '10px', padding: '5px', width: '300px' }}\n            value={tags}\n            onChange={e => setTags(e.target.value)}\n            placeholder=\"Tags (space-separated)\"\n        />\n        <div>\n            <button\n                style={{ marginRight: '10px', padding: '5px 10px', backgroundColor: 'green', color: 'white' }}\n                onClick={handleUpdate}\n            >\n                Save Changes\n            </button>\n            <button\n                style={{ marginRight: '10px', padding: '5px 10px', backgroundColor: 'red', color: 'white' }}\n                onClick={handleDelete}\n            >\n                Delete Question\n            </button>\n            <button\n                style={{ padding: '5px 10px', backgroundColor: 'gray', color: 'white' }}\n                onClick={onClose}\n            >\n                Close\n            </button>\n        </div>\n    </div>\n  );\n}\nexport default EditQuestion;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,SAASC,YAAYA,CAAC;EAAEC,QAAQ;EAAEC;AAAQ,CAAC,EAAE;EAAAC,EAAA;EAC3C,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGV,QAAQ,CAACM,QAAQ,CAACG,KAAK,CAAC;EAClD,MAAM,CAACE,OAAO,EAAEC,UAAU,CAAC,GAAGZ,QAAQ,CAACM,QAAQ,CAACK,OAAO,CAAC;EACxD,MAAM,CAACE,IAAI,EAAEC,OAAO,CAAC,GAAGd,QAAQ,CAACM,QAAQ,CAACO,IAAI,CAAC;EAC/C,MAAM,CAACE,IAAI,EAAEC,OAAO,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EAEpCC,SAAS,CAAC,MAAM;IACd,MAAMgB,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMhB,KAAK,CAACiB,GAAG,CAAC,4BAA4B,CAAC;QAC9D,MAAMC,cAAc,GAAGF,QAAQ,CAACG,IAAI;QACpC,MAAMC,QAAQ,GAAGhB,QAAQ,CAACS,IAAI,CAC3BQ,GAAG,CAACC,KAAK;UAAA,IAAAC,oBAAA;UAAA,QAAAA,oBAAA,GAAIL,cAAc,CAACM,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,GAAG,KAAKJ,KAAK,CAAC,cAAAC,oBAAA,uBAA7CA,oBAAA,CAA+CI,IAAI;QAAA,EAAC,CACjEC,MAAM,CAACC,OAAO,IAAIA,OAAO,CAAC,CAAC;QAAA,CAC3BC,IAAI,CAAC,GAAG,CAAC;QACZhB,OAAO,CAACM,QAAQ,CAAC;MACnB,CAAC,CAAC,OAAOW,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC/C;IACF,CAAC;IACDhB,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,CAACX,QAAQ,CAACS,IAAI,CAAC,CAAC;EAEnB,MAAMoB,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/BD,OAAO,CAACE,GAAG,CAAC9B,QAAQ,CAACS,IAAI,CAAC;IAC1B,MAAMsB,QAAQ,GAAGtB,IAAI,CAACuB,KAAK,CAAC,GAAG,CAAC,CAACf,GAAG,CAACI,GAAG,IAAIA,GAAG,CAACY,IAAI,CAAC,CAAC,CAAC,CAACT,MAAM,CAACH,GAAG,IAAIA,GAAG,KAAK,EAAE,CAAC;IACjF,MAAMa,eAAe,GAAG;MACtB/B,KAAK;MACLE,OAAO;MACPE,IAAI;MACJE,IAAI,EAAEsB;IACR,CAAC;IACD,IAAI;MACF,MAAMnC,KAAK,CAACuC,GAAG,CAAE,mCAAkCnC,QAAQ,CAACsB,GAAI,EAAC,EAAEY,eAAe,CAAC;MACnFE,KAAK,CAAC,gCAAgC,CAAC;MACvCnC,OAAO,CAAC,CAAC,CAAC,CAAC;IACb,CAAC,CAAC,OAAO0B,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MAClDS,KAAK,CAAC,0BAA0B,CAAC;IACnC;EACF,CAAC;EAED,MAAMC,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI;MACF,MAAMzC,KAAK,CAAC0C,MAAM,CAAE,mCAAkCtC,QAAQ,CAACsB,GAAI,EAAC,CAAC;MACrEc,KAAK,CAAC,gCAAgC,CAAC;MACvCnC,OAAO,CAAC,CAAC,CAAC,CAAC;IACb,CAAC,CAAC,OAAO0B,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MAClDS,KAAK,CAAC,0BAA0B,CAAC;IACnC;EACF,CAAC;EAED,oBACEtC,OAAA;IAAKyC,KAAK,EAAE;MAAEC,OAAO,EAAE,MAAM;MAAEC,aAAa,EAAE,QAAQ;MAAEC,UAAU,EAAE;IAAS,CAAE;IAAAC,QAAA,gBAC3E7C,OAAA;MAAIyC,KAAK,EAAE;QAAEK,YAAY,EAAE;MAAO,CAAE;MAAAD,QAAA,EAAC;IAAa;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACvDlD,OAAA;MACIyC,KAAK,EAAE;QAAEK,YAAY,EAAE,MAAM;QAAEK,OAAO,EAAE,KAAK;QAAEC,KAAK,EAAE;MAAQ,CAAE;MAChEC,KAAK,EAAEhD,KAAM;MACbiD,QAAQ,EAAEC,CAAC,IAAIjD,QAAQ,CAACiD,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;MACxCI,WAAW,EAAC;IAAO;MAAAV,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACtB,CAAC,eACFlD,OAAA;MACIyC,KAAK,EAAE;QAAEK,YAAY,EAAE,MAAM;QAAEK,OAAO,EAAE,KAAK;QAAEC,KAAK,EAAE,OAAO;QAAEM,MAAM,EAAE;MAAQ,CAAE;MACjFL,KAAK,EAAE9C,OAAQ;MACf+C,QAAQ,EAAEC,CAAC,IAAI/C,UAAU,CAAC+C,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;MAC1CI,WAAW,EAAC;IAAS;MAAAV,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACxB,CAAC,eACFlD,OAAA;MACIyC,KAAK,EAAE;QAAEK,YAAY,EAAE,MAAM;QAAEK,OAAO,EAAE,KAAK;QAAEC,KAAK,EAAE,OAAO;QAAEM,MAAM,EAAE;MAAQ,CAAE;MACjFL,KAAK,EAAE5C,IAAK;MACZ6C,QAAQ,EAAEC,CAAC,IAAI7C,OAAO,CAAC6C,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;MACvCI,WAAW,EAAC;IAAM;MAAAV,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACrB,CAAC,eACFlD,OAAA;MACIyC,KAAK,EAAE;QAAEK,YAAY,EAAE,MAAM;QAAEK,OAAO,EAAE,KAAK;QAAEC,KAAK,EAAE;MAAQ,CAAE;MAChEC,KAAK,EAAE1C,IAAK;MACZ2C,QAAQ,EAAEC,CAAC,IAAI3C,OAAO,CAAC2C,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;MACvCI,WAAW,EAAC;IAAwB;MAAAV,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACvC,CAAC,eACFlD,OAAA;MAAA6C,QAAA,gBACI7C,OAAA;QACIyC,KAAK,EAAE;UAAEkB,WAAW,EAAE,MAAM;UAAER,OAAO,EAAE,UAAU;UAAES,eAAe,EAAE,OAAO;UAAEC,KAAK,EAAE;QAAQ,CAAE;QAC9FC,OAAO,EAAE/B,YAAa;QAAAc,QAAA,EACzB;MAED;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACTlD,OAAA;QACIyC,KAAK,EAAE;UAAEkB,WAAW,EAAE,MAAM;UAAER,OAAO,EAAE,UAAU;UAAES,eAAe,EAAE,KAAK;UAAEC,KAAK,EAAE;QAAQ,CAAE;QAC5FC,OAAO,EAAEvB,YAAa;QAAAM,QAAA,EACzB;MAED;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACTlD,OAAA;QACIyC,KAAK,EAAE;UAAEU,OAAO,EAAE,UAAU;UAAES,eAAe,EAAE,MAAM;UAAEC,KAAK,EAAE;QAAQ,CAAE;QACxEC,OAAO,EAAE3D,OAAQ;QAAA0C,QAAA,EACpB;MAED;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACR,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEV;AAAC9C,EAAA,CAtGQH,YAAY;AAAA8D,EAAA,GAAZ9D,YAAY;AAuGrB,eAAeA,YAAY;AAAC,IAAA8D,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}