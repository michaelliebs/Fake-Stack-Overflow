{"ast":null,"code":"var _jsxFileName = \"/Users/michaelliebs/Fake-Stack-Overflow/client/src/components/CommentDisplay.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport '../stylesheets/index.css';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Comments = ({\n  questionId,\n  answerId,\n  parentType\n}) => {\n  _s();\n  const [comments, setComments] = useState([]);\n  const [newComment, setNewComment] = useState('');\n  const [startIndex, setStartIndex] = useState(0);\n  const [error, setError] = useState('');\n  const [userData, setUserData] = useState({});\n  useEffect(() => {\n    const getUserData = async () => {\n      try {\n        const response = await axios.get('http://localhost:8000/protected', {\n          withCredentials: true\n        });\n        setUserData(response.data.user);\n      } catch (error) {\n        console.error('Error fetching user data:', error);\n      }\n    };\n    getUserData();\n  }, []);\n\n  // Fetch all comments\n  useEffect(() => {\n    const fetchComments = async () => {\n      let url = parentType === 'question' ? `http://localhost:8000/questions/${questionId}/comments` : `http://localhost:8000/answers/${answerId}/comments`;\n      try {\n        const response = await axios.get(url);\n        const sortedComments = response.data.sort((a, b) => new Date(b.ans_date_time) - new Date(a.ans_date_time));\n        setComments(sortedComments);\n      } catch (error) {\n        console.error('Error fetching comments:', error);\n      }\n    };\n    fetchComments();\n  }, [questionId, comments.length, parentType, answerId]);\n\n  // Transform Markdown-style links to HTML links\n  const transformTextToHyperlinks = text => {\n    const hyperlinkRegex = /\\[([^\\]]+)\\]\\(([^\\s)]+)\\)/g;\n    return text.replace(hyperlinkRegex, (match, linkText, url) => `<a href=\"${url}\" target=\"_blank\" rel=\"noopener noreferrer\">${linkText}</a>`);\n  };\n\n  // Handle new comment submission\n  const handleCommentSubmit = async e => {\n    try {\n      if (newComment.length > 140) {\n        setError('Comment cannot exceed 140 characters.');\n        return;\n      }\n      if (userData.reputation < 50) {\n        setError('You must have at least 50 reputation points to comment.');\n        return;\n      }\n      if (e.key === 'Enter' && newComment.trim()) {\n        const url = parentType === 'question' ? `http://localhost:8000/questions/${questionId}/comments` : `http://localhost:8000/answers/${answerId}/comments`;\n        axios.post(url, {\n          text: newComment,\n          ans_by: userData.username\n        }).then(() => {\n          setNewComment('');\n          // Refresh comments to include the new one\n          axios.get(url).then(response => setComments(response.data)).catch(error => console.error('Error fetching comments:', error));\n          setStartIndex(0);\n        });\n      }\n    } catch (error) {\n      alert('Error posting comment: ' + error.response.data);\n    }\n  };\n\n  // Upvote a comment\n  const handleUpvote = async commentId => {\n    try {\n      await axios.put(`http://localhost:8000/comments/${commentId}/upvote`, {\n        username: userData.username\n      }).then(() => {\n        const url = parentType === 'question' ? `http://localhost:8000/questions/${questionId}/comments` : `http://localhost:8000/answers/${answerId}/comments`;\n        // Refresh comments to include the new one\n        axios.get(url).then(response => {\n          const sortedComments = response.data.sort((a, b) => new Date(b.ans_date_time) - new Date(a.ans_date_time));\n          setComments(sortedComments);\n        }).catch(error => console.error('Error fetching comments:', error));\n        setStartIndex(startIndex);\n      });\n    } catch (error) {\n      if (error.response.status === 400) {\n        setError('You cannot upvote your own comment.');\n      }\n    }\n  };\n  const handleNextClick = () => {\n    if (startIndex + 3 >= comments.length) {\n      setStartIndex(0);\n    } else setStartIndex(startIndex + 3);\n  };\n  const handlePrevClick = () => {\n    setStartIndex(startIndex - 3);\n  };\n\n  // Render comments with upvote buttons\n  const renderComments = () => {\n    if (comments.length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: '.9em',\n          margin: '10px calc(2.5%) 5px calc(2.5%)',\n          color: 'gray'\n        },\n        children: \"No comments here yet...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 20\n      }, this);\n    }\n    const paginatedComments = comments.slice(startIndex, startIndex + 3);\n    if (parentType === 'question') {\n      return paginatedComments.map(comment => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"question-comment\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            dangerouslySetInnerHTML: {\n              __html: transformTextToHyperlinks(comment.text)\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 21\n          }, this), \" - \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: comment.ans_by\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 110\n          }, this), \" (\", comment.votes, \" votes)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 17\n        }, this), userData.username && userData.username === comment.ans_by ? null : /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleUpvote(comment._id),\n          disabled: comment.voters.includes(userData.username),\n          style: {\n            opacity: comment.voters.includes(userData.username) ? 0.5 : 1\n          },\n          children: \"Upvote\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }, this)]\n      }, comment._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 13\n      }, this));\n    } else {\n      return paginatedComments.map(comment => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"answer-comment\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          dangerouslySetInnerHTML: {\n            __html: transformTextToHyperlinks(comment.text)\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"- \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: comment.ans_by\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 26\n          }, this), \" (\", comment.votes, \" votes)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 21\n        }, this), userData.username && userData.username === comment.ans_by ? null : /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleUpvote(comment._id),\n          disabled: comment.voters.includes(userData.username),\n          style: {\n            opacity: comment.voters.includes(userData.username) ? 0.5 : 1\n          },\n          children: \"Upvote\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 25\n        }, this)]\n      }, comment._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }, this));\n    }\n  };\n  const renderPaginatedComments = () => {\n    if (comments.length <= 3) {\n      return null;\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sub-answer-list\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pagination-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handlePrevClick,\n          disabled: startIndex === 0,\n          children: \"Prev\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleNextClick,\n          disabled: comments.length <= 3,\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 11\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: parentType === 'question' ? 'question-comments-container' : 'answer-comments-container',\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: parentType === 'question' ? 'Question Comments' : ''\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 17\n    }, this), renderComments(), userData.username && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: parentType === 'question' ? 'question-comments-form' : 'answer-comments-form',\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        value: newComment,\n        onChange: e => setNewComment(e.target.value),\n        placeholder: \"Add a comment\",\n        onKeyDown: e => e.key === 'Enter' && handleCommentSubmit(e)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 25\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: 'red'\n        },\n        className: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 35\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 21\n    }, this), renderPaginatedComments()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 156,\n    columnNumber: 13\n  }, this);\n};\n_s(Comments, \"tI7JZF5w9cnQlzawiY+txykZMI4=\");\n_c = Comments;\nexport default Comments;\nvar _c;\n$RefreshReg$(_c, \"Comments\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","Comments","questionId","answerId","parentType","_s","comments","setComments","newComment","setNewComment","startIndex","setStartIndex","error","setError","userData","setUserData","getUserData","response","get","withCredentials","data","user","console","fetchComments","url","sortedComments","sort","a","b","Date","ans_date_time","length","transformTextToHyperlinks","text","hyperlinkRegex","replace","match","linkText","handleCommentSubmit","e","reputation","key","trim","post","ans_by","username","then","catch","alert","handleUpvote","commentId","put","status","handleNextClick","handlePrevClick","renderComments","style","fontSize","margin","color","children","fileName","_jsxFileName","lineNumber","columnNumber","paginatedComments","slice","map","comment","className","dangerouslySetInnerHTML","__html","votes","onClick","_id","disabled","voters","includes","opacity","renderPaginatedComments","value","onChange","target","placeholder","onKeyDown","_c","$RefreshReg$"],"sources":["/Users/michaelliebs/Fake-Stack-Overflow/client/src/components/CommentDisplay.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport '../stylesheets/index.css';\nimport axios from 'axios';\n\nconst Comments = ({ questionId, answerId, parentType }) => {\n    const [comments, setComments] = useState([]);\n    const [newComment, setNewComment] = useState('');\n    const [startIndex, setStartIndex] = useState(0);\n    const [error, setError] = useState('');\n    const [userData, setUserData] = useState({});\n\n    useEffect(() => {\n        const getUserData = async () => {\n          try {\n            const response = await axios.get('http://localhost:8000/protected', { withCredentials: true });\n            setUserData(response.data.user);\n          } catch (error) {\n            console.error('Error fetching user data:', error);\n          }\n        };\n        getUserData();\n      }, []);\n\n    // Fetch all comments\n    useEffect(() => {\n        const fetchComments = async () => {\n            let url = parentType === 'question' \n              ? `http://localhost:8000/questions/${questionId}/comments`\n              : `http://localhost:8000/answers/${answerId}/comments`;\n        \n            try {\n              const response = await axios.get(url);\n              const sortedComments = response.data.sort((a, b) => new Date(b.ans_date_time) - new Date(a.ans_date_time));\n              setComments(sortedComments);\n            } catch (error) {\n              console.error('Error fetching comments:', error);\n            }\n          };\n          fetchComments();\n    }, [questionId, comments.length, parentType, answerId]);\n\n\n      // Transform Markdown-style links to HTML links\n    const transformTextToHyperlinks = (text) => {\n        const hyperlinkRegex = /\\[([^\\]]+)\\]\\(([^\\s)]+)\\)/g;\n        return text.replace(hyperlinkRegex, (match, linkText, url) => `<a href=\"${url}\" target=\"_blank\" rel=\"noopener noreferrer\">${linkText}</a>`);\n    };\n    \n    // Handle new comment submission\n    const handleCommentSubmit = async (e) => {\n        try {\n            if (newComment.length > 140) {\n                setError('Comment cannot exceed 140 characters.');\n                return;\n            }\n            if (userData.reputation < 50) {\n                setError('You must have at least 50 reputation points to comment.');\n                return;\n            }\n            if (e.key === 'Enter' && newComment.trim()) {\n                const url = parentType === 'question'\n                ? `http://localhost:8000/questions/${questionId}/comments`\n                : `http://localhost:8000/answers/${answerId}/comments`;\n\n                axios.post(url, { text: newComment, ans_by: userData.username })\n                .then(() => {\n                    setNewComment('');\n                    // Refresh comments to include the new one\n                    axios.get(url)\n                        .then(response => setComments(response.data))\n                        .catch(error => console.error('Error fetching comments:', error));\n                    setStartIndex(0);\n                })}\n        } catch (error) {alert('Error posting comment: ' + error.response.data)}\n    };\n\n    // Upvote a comment\n    const handleUpvote = async (commentId) => {\n        try {\n            await axios.put(`http://localhost:8000/comments/${commentId}/upvote`, { username: userData.username })\n            .then(() => {\n                const url = parentType === 'question'\n                ? `http://localhost:8000/questions/${questionId}/comments`\n                : `http://localhost:8000/answers/${answerId}/comments`;\n                // Refresh comments to include the new one\n                axios.get(url)\n                .then(response => {\n                    const sortedComments = response.data.sort((a, b) => new Date(b.ans_date_time) - new Date(a.ans_date_time));\n                    setComments(sortedComments);\n                })\n                .catch(error => console.error('Error fetching comments:', error));\n                setStartIndex(startIndex);\n            })\n        } catch (error) { \n            if (error.response.status === 400) {\n                setError('You cannot upvote your own comment.');\n              }\n         }\n    };\n\n    const handleNextClick = () => {\n        if (startIndex + 3 >= comments.length) {\n          setStartIndex(0);\n        }\n        else\n          setStartIndex(startIndex + 3);\n      };\n    \n      const handlePrevClick = () => {\n        setStartIndex(startIndex - 3);\n      };\n\n    // Render comments with upvote buttons\n    const renderComments = () => {\n        if (comments.length === 0) {\n            return <p style={{ fontSize: '.9em', margin: '10px calc(2.5%) 5px calc(2.5%)', color: 'gray' }}>No comments here yet...</p>;\n        }\n        const paginatedComments = comments.slice(startIndex, startIndex + 3);\n        if (parentType === 'question') {\n        return paginatedComments.map(comment => (\n            <div key={comment._id} className='question-comment'>\n                <p>{<p dangerouslySetInnerHTML={{ __html: transformTextToHyperlinks(comment.text) }}></p>} - <strong>{comment.ans_by}</strong> ({comment.votes} votes)</p>\n                {userData.username && userData.username === comment.ans_by ? null : (\n                    <button onClick={() => handleUpvote(comment._id)} disabled={comment.voters.includes(userData.username)} style={{ opacity: comment.voters.includes(userData.username) ? 0.5 : 1 }}>\n                        Upvote\n                    </button>\n                )}\n            </div>\n        ));}\n        else {\n            return paginatedComments.map(comment => (\n                <div key={comment._id} className='answer-comment'>\n                    <p dangerouslySetInnerHTML={{ __html: transformTextToHyperlinks(comment.text) }}></p>\n                    <p>- <strong>{comment.ans_by}</strong> ({comment.votes} votes)</p>\n                    {userData.username && userData.username === comment.ans_by ? null : (\n                        <button onClick={() => handleUpvote(comment._id)} disabled={comment.voters.includes(userData.username)} style={{ opacity: comment.voters.includes(userData.username) ? 0.5 : 1 }}>Upvote</button>\n                    )}\n                </div>\n            ));}\n    };\n\n    const renderPaginatedComments = () => {\n        if (comments.length <= 3) {\n          return null;\n        }\n        return (\n          <div className=\"sub-answer-list\">\n            <div className=\"pagination-buttons\">\n              <button onClick={handlePrevClick} disabled={startIndex === 0}>Prev</button>\n              <button onClick={handleNextClick} disabled={comments.length <= 3}>Next</button>\n            </div>\n          </div>\n        )};\n    \n        return (\n            <div className={parentType === 'question' ? 'question-comments-container' : 'answer-comments-container'}>\n                <h3>{parentType === 'question' ? 'Question Comments' : ''}</h3>\n                {renderComments()}\n                {userData.username && (\n                    <div className={parentType === 'question' ? 'question-comments-form' : 'answer-comments-form'}>\n                        <input\n                            value={newComment}\n                            onChange={(e) => setNewComment(e.target.value)}\n                            placeholder=\"Add a comment\"\n                            onKeyDown={(e) => e.key === 'Enter' && handleCommentSubmit(e)}\n                        />\n                        {error && <p style={{color: 'red'}} className=\"error\">{error}</p>}\n                    </div>\n                )}\n                {renderPaginatedComments()}\n            </div>\n        );\n};\n\nexport default Comments;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}