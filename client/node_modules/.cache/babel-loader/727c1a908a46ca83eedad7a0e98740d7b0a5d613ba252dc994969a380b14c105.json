{"ast":null,"code":"var _jsxFileName = \"/Users/michaelliebs/pa04-bananaboys/client/src/components/CommentDisplay.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport '../stylesheets/index.css';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Comments = ({\n  questionId,\n  answerId,\n  parentType\n}) => {\n  _s();\n  const [comments, setComments] = useState([]);\n  const [newComment, setNewComment] = useState('');\n  const [startIndex, setStartIndex] = useState(0);\n  const [userData, setUserData] = useState({});\n\n  // Fetch all comments\n  useEffect(() => {\n    const fetchComments = async () => {\n      let url = parentType === 'question' ? `http://localhost:8000/questions/${questionId}/comments` : `http://localhost:8000/answers/${answerId}/comments`;\n      try {\n        const response = await axios.get(url);\n        const sortedComments = response.data.sort((a, b) => new Date(b.ans_date_time) - new Date(a.ans_date_time));\n        setComments(sortedComments);\n      } catch (error) {\n        console.error('Error fetching comments:', error);\n      }\n    };\n    fetchComments();\n  }, [questionId, comments.length, parentType, answerId]);\n  useEffect(() => {\n    const getUserData = async () => {\n      try {\n        const response = await axios.get('http://localhost:8000/protected', {\n          withCredentials: true\n        });\n        setUserData(response.data.user);\n      } catch (error) {\n        console.error('Error fetching user data:', error);\n      }\n    };\n    getUserData();\n  }, []);\n\n  // Handle new comment submission\n  const handleCommentSubmit = async e => {\n    try {\n      if (e.key === 'Enter' && newComment.trim()) {\n        const url = parentType === 'question' ? `http://localhost:8000/questions/${questionId}/comments` : `http://localhost:8000/answers/${answerId}/comments`;\n        axios.post(url, {\n          text: newComment,\n          ans_by: 'Anonymous'\n        }).then(() => {\n          setNewComment('');\n          // Refresh comments to include the new one\n          axios.get(url).then(response => setComments(response.data)).catch(error => console.error('Error fetching comments:', error));\n          setStartIndex(0);\n        });\n      }\n    } catch (error) {\n      alert('Error posting comment: ' + error.response.data);\n    }\n  };\n\n  // Upvote a comment\n  const handleUpvote = async commentId => {\n    try {\n      await axios.put(`http://localhost:8000/comments/${commentId}/upvote`).then(() => {\n        const url = parentType === 'question' ? `http://localhost:8000/questions/${questionId}/comments` : `http://localhost:8000/answers/${answerId}/comments`;\n        // Refresh comments to include the new one\n        axios.get(url).then(response => {\n          const sortedComments = response.data.sort((a, b) => new Date(b.ans_date_time) - new Date(a.ans_date_time));\n          setComments(sortedComments);\n        }).catch(error => console.error('Error fetching comments:', error));\n        setStartIndex(startIndex);\n      });\n    } catch (error) {\n      console.error('Error upvoting comment:', error);\n    }\n  };\n  const handleNextClick = () => {\n    if (startIndex + 3 >= comments.length) {\n      setStartIndex(0);\n    } else setStartIndex(startIndex + 3);\n  };\n  const handlePrevClick = () => {\n    setStartIndex(startIndex - 3);\n  };\n\n  // Render comments with upvote buttons\n  const renderComments = () => {\n    if (comments.length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: '.9em',\n          margin: '10px calc(2.5%) 5px calc(2.5%)',\n          color: 'gray'\n        },\n        children: \"No comments here yet...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 20\n      }, this);\n    }\n    const paginatedComments = comments.slice(startIndex, startIndex + 3);\n    if (parentType === 'question') {\n      return paginatedComments.map(comment => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"question-comment\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [comment.text, \" - \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: comment.ans_by\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 37\n          }, this), \" (\", comment.votes, \" votes)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 17\n        }, this), userData.username && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleUpvote(comment._id),\n          children: \"Upvote\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 39\n        }, this)]\n      }, comment._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 13\n      }, this));\n    } else {\n      return paginatedComments.map(comment => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"answer-comment\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [comment.text, \" - \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: comment.ans_by\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 41\n          }, this), \" (\", comment.votes, \" votes)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 21\n        }, this), userData.username && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleUpvote(comment._id),\n          children: \"Upvote\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 43\n        }, this)]\n      }, comment._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }, this));\n    }\n  };\n  const renderPaginatedComments = () => {\n    if (comments.length <= 3) {\n      return null;\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sub-answer-list\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pagination-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handlePrevClick,\n          disabled: startIndex === 0,\n          children: \"Prev\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleNextClick,\n          disabled: comments.length <= 3,\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 11\n    }, this);\n  };\n  if (parentType === 'question') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"question-comments-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: 'Question Comments'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"question-comments\",\n        children: renderComments()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }, this), userData.username && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"question-comments-form\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          value: newComment,\n          onChange: e => setNewComment(e.target.value),\n          onKeyDown: handleCommentSubmit,\n          placeholder: \"Add a comment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 37\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pagination-buttons\",\n        children: renderPaginatedComments()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"answer-comments-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"answer-comments\",\n        children: renderComments()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 17\n      }, this), userData.username && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"answer-comments-form\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          value: newComment,\n          onChange: e => setNewComment(e.target.value),\n          onKeyDown: handleCommentSubmit,\n          placeholder: \"Add a comment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 39\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pagination-buttons\",\n        children: renderPaginatedComments()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }, this);\n  }\n};\n_s(Comments, \"seCp74YRO2dW4wdLeS70hZ5y9sk=\");\n_c = Comments;\nexport default Comments;\nvar _c;\n$RefreshReg$(_c, \"Comments\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","Comments","questionId","answerId","parentType","_s","comments","setComments","newComment","setNewComment","startIndex","setStartIndex","userData","setUserData","fetchComments","url","response","get","sortedComments","data","sort","a","b","Date","ans_date_time","error","console","length","getUserData","withCredentials","user","handleCommentSubmit","e","key","trim","post","text","ans_by","then","catch","alert","handleUpvote","commentId","put","handleNextClick","handlePrevClick","renderComments","style","fontSize","margin","color","children","fileName","_jsxFileName","lineNumber","columnNumber","paginatedComments","slice","map","comment","className","votes","username","onClick","_id","renderPaginatedComments","disabled","value","onChange","target","onKeyDown","placeholder","_c","$RefreshReg$"],"sources":["/Users/michaelliebs/pa04-bananaboys/client/src/components/CommentDisplay.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport '../stylesheets/index.css';\nimport axios from 'axios';\n\nconst Comments = ({ questionId, answerId, parentType }) => {\n    const [comments, setComments] = useState([]);\n    const [newComment, setNewComment] = useState('');\n    const [startIndex, setStartIndex] = useState(0);\n    const [userData, setUserData] = useState({});\n\n    // Fetch all comments\n    useEffect(() => {\n        const fetchComments = async () => {\n            let url = parentType === 'question' \n              ? `http://localhost:8000/questions/${questionId}/comments`\n              : `http://localhost:8000/answers/${answerId}/comments`;\n        \n            try {\n              const response = await axios.get(url);\n              const sortedComments = response.data.sort((a, b) => new Date(b.ans_date_time) - new Date(a.ans_date_time));\n              setComments(sortedComments);\n            } catch (error) {\n              console.error('Error fetching comments:', error);\n            }\n          };\n          fetchComments();\n    }, [questionId, comments.length, parentType, answerId]);\n\n    useEffect(() => {\n        const getUserData = async () => {\n          try {\n            const response = await axios.get('http://localhost:8000/protected', { withCredentials: true });\n            setUserData(response.data.user);\n          } catch (error) {\n            console.error('Error fetching user data:', error);\n          }\n        };\n        getUserData();\n      }, []);\n\n    // Handle new comment submission\n    const handleCommentSubmit = async (e) => {\n        try {\n            if (e.key === 'Enter' && newComment.trim()) {\n                const url = parentType === 'question'\n                ? `http://localhost:8000/questions/${questionId}/comments`\n                : `http://localhost:8000/answers/${answerId}/comments`;\n\n                axios.post(url, { text: newComment, ans_by: 'Anonymous' })\n                .then(() => {\n                    setNewComment('');\n                    // Refresh comments to include the new one\n                    axios.get(url)\n                        .then(response => setComments(response.data))\n                        .catch(error => console.error('Error fetching comments:', error));\n                    setStartIndex(0);\n                })}\n        } catch (error) {alert('Error posting comment: ' + error.response.data)}\n    };\n\n    // Upvote a comment\n    const handleUpvote = async (commentId) => {\n        try {\n            await axios.put(`http://localhost:8000/comments/${commentId}/upvote`)\n            .then(() => {\n                const url = parentType === 'question'\n                ? `http://localhost:8000/questions/${questionId}/comments`\n                : `http://localhost:8000/answers/${answerId}/comments`;\n                // Refresh comments to include the new one\n                axios.get(url)\n                .then(response => {\n                    const sortedComments = response.data.sort((a, b) => new Date(b.ans_date_time) - new Date(a.ans_date_time));\n                    setComments(sortedComments);\n                })\n                .catch(error => console.error('Error fetching comments:', error));\n                setStartIndex(startIndex);\n            })\n        } catch (error) { console.error('Error upvoting comment:', error); }\n    };\n\n    const handleNextClick = () => {\n        if (startIndex + 3 >= comments.length) {\n          setStartIndex(0);\n        }\n        else\n          setStartIndex(startIndex + 3);\n      };\n    \n      const handlePrevClick = () => {\n        setStartIndex(startIndex - 3);\n      };\n\n    // Render comments with upvote buttons\n    const renderComments = () => {\n        if (comments.length === 0) {\n            return <p style={{ fontSize: '.9em', margin: '10px calc(2.5%) 5px calc(2.5%)', color: 'gray' }}>No comments here yet...</p>;\n        }\n        const paginatedComments = comments.slice(startIndex, startIndex + 3);\n        if (parentType === 'question') {\n        return paginatedComments.map(comment => (\n            <div key={comment._id} className='question-comment'>\n                <p>{comment.text} - <strong>{comment.ans_by}</strong> ({comment.votes} votes)</p>\n                {userData.username && <button onClick={() => handleUpvote(comment._id)}>Upvote</button>}\n            </div>\n        ));}\n        else {\n            return paginatedComments.map(comment => (\n                <div key={comment._id} className='answer-comment'>\n                    <p>{comment.text} - <strong>{comment.ans_by}</strong> ({comment.votes} votes)</p>\n                    {userData.username && <button onClick={() => handleUpvote(comment._id)}>Upvote</button>}\n                </div>\n        ))}\n    };\n\n    const renderPaginatedComments = () => {\n        if (comments.length <= 3) {\n          return null;\n        }\n        return (\n          <div className=\"sub-answer-list\">\n            <div className=\"pagination-buttons\">\n              <button onClick={handlePrevClick} disabled={startIndex === 0}>Prev</button>\n              <button onClick={handleNextClick} disabled={comments.length <= 3}>Next</button>\n            </div>\n          </div>\n        )};\n    \n    if (parentType === 'question') {\n        return (\n            <div className='question-comments-container'>\n                <h3>{'Question Comments'}</h3>\n                <div className='question-comments'>\n                    {renderComments()}\n                </div>\n              {userData.username && <div className='question-comments-form'>\n                    <input \n                        value={newComment} \n                        onChange={(e) => setNewComment(e.target.value)} \n                        onKeyDown={handleCommentSubmit} \n                        placeholder=\"Add a comment\" />\n                </div> }\n                <div className='pagination-buttons'>\n                    {renderPaginatedComments()}\n                </div>\n            </div>\n        );\n    } else {\n        return (\n            <div className='answer-comments-container'>\n                <div className='answer-comments'>\n                    {renderComments()}\n                </div>\n                {userData.username && <div className='answer-comments-form'>\n                    <input \n                        value={newComment} \n                        onChange={(e) => setNewComment(e.target.value)} \n                        onKeyDown={handleCommentSubmit} \n                        placeholder=\"Add a comment\" />\n                </div>}\n                <div className='pagination-buttons'>\n                    {renderPaginatedComments()}\n                </div>\n            </div>\n        );\n    }\n};\n\nexport default Comments;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}